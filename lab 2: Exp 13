import itertools

# Function to calculate total cost
def total_cost(assignment, cost_matrix):
    cost = 0
    for worker, task in enumerate(assignment):
        cost += cost_matrix[worker][task]
    return cost

# Function to solve the assignment problem
def assignment_problem(cost_matrix):
    n = len(cost_matrix)
    workers = list(range(n))
    
    min_cost = float('inf')
    best_assignment = None

    # Generate all possible permutations of tasks
    for perm in itertools.permutations(workers):
        curr_cost = total_cost(perm, cost_matrix)
        if curr_cost < min_cost:
            min_cost = curr_cost
            best_assignment = perm

    # Format result
    result = []
    for worker in range(n):
        result.append((f"worker {worker+1}", f"task {best_assignment[worker]+1}"))

    return result, min_cost

# ----------- Test Cases ------------

# Test Case 1
cost_matrix1 = [
    [3, 10, 7],
    [8, 5, 12],
    [4, 6, 9]
]

assign1, cost1 = assignment_problem(cost_matrix1)
print("Test Case 1:")
print("Optimal Assignment:", assign1)
print("Total Cost:", cost1)

# Test Case 2
cost_matrix2 = [
    [15, 9, 4],
    [8, 7, 18],
    [6, 12, 11]
]

assign2, cost2 = assignment_problem(cost_matrix2)
print("\nTest Case 2:")
print("Optimal Assignment:", assign2)
print("Total Cost:", cost2)
